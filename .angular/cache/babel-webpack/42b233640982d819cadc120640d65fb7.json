{"ast":null,"code":"import { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators'; // import { AuthActions, AuthService } from '@kirolapp/web-modules/auth';\n\nexport class HttpErrorInterceptor {\n  constructor(store) {\n    this.store = store;\n  }\n\n  intercept(request, next) {\n    return next.handle(request).pipe(catchError(error => {\n      let errorMessage = '';\n      console.log(error); // if (error.error instanceof ErrorEvent) {\n      //   errorMessage = `Error: ${error.error.message}`;\n      // }\n      // else{\n      //   //TODO  error.status me llega 0\n      //   // console.log(error.status)\n      //   // console.log(error)\n      //   if(error.status === 403){\n      //     // this.store.dispatch(AuthActions.forceLogout());\n      //   }\n      //   if(error.status === 401 ) {\n      //     return this._auth.refresh().pipe(\n      //       catchError((err) => {\n      //         console.error(err);\n      //         // this.store.dispatch(AuthActions.forceLogout());\n      //         return EMPTY;\n      //       }),\n      //       switchMap(() => next.handle(request)),\n      //     );\n      //   }\n      //   errorMessage = `Error Code: ${error.status}\\nMessage: ${error.error?.message || error.message}`;\n      // }\n\n      return throwError(error.error);\n    }));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}