{"ast":null,"code":"import { createEffect, ofType } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { MovieActions } from '../actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/effects\";\nimport * as i2 from \"../services/movie.service\";\nimport * as i3 from \"@angular/common\";\nexport let MovieEffects = /*#__PURE__*/(() => {\n  class MovieEffects {\n    constructor(actions$, _movie, location) {\n      this.actions$ = actions$;\n      this._movie = _movie;\n      this.location = location;\n      this.loadMenu$ = createEffect(() => this.actions$.pipe(ofType(MovieActions.loadMenu), switchMap(() => this._movie.getMenu().pipe(map(menu => MovieActions.saveMenu({\n        menu: menu || []\n      })), catchError(() => [MovieActions.saveMenu({\n        menu: []\n      })])))));\n      this.loadMovies$ = createEffect(() => this.actions$.pipe(ofType(MovieActions.loadMovies), switchMap(({\n        typeMovie,\n        page\n      }) => this._movie.getMoviesPopular(typeMovie, page).pipe(map(({\n        movies,\n        page,\n        total_pages,\n        total_results\n      }) => MovieActions.saveMovies({\n        movies: movies || [],\n        page: page || 1,\n        total_pages: total_pages || 0,\n        total_results: total_results || 0\n      })), catchError(() => [MovieActions.saveMovies({\n        movies: [],\n        page: 1,\n        total_pages: 0,\n        total_results: 0\n      })])))));\n      this.loadMoviesGenre$ = createEffect(() => this.actions$.pipe(ofType(MovieActions.loadMoviesGenre), switchMap(({\n        page,\n        idGenre\n      }) => this._movie.getMoviesByIdGenre(page, idGenre).pipe(map(({\n        movies,\n        page,\n        total_pages,\n        total_results\n      }) => MovieActions.saveMoviesGenre({\n        movies: movies || [],\n        page: page || 1,\n        total_pages: total_pages || 0,\n        total_results: total_results || 0\n      })), catchError(() => [MovieActions.saveMoviesGenre({\n        movies: [],\n        page: 1,\n        total_pages: 0,\n        total_results: 0\n      })])))));\n      this.loadMoviesMenu$ = createEffect(() => of(MovieActions.loadMenu()));\n    }\n\n  }\n\n  MovieEffects.ɵfac = function MovieEffects_Factory(t) {\n    return new (t || MovieEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(i2.MovieService), i0.ɵɵinject(i3.Location));\n  };\n\n  MovieEffects.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MovieEffects,\n    factory: MovieEffects.ɵfac\n  });\n  return MovieEffects;\n})();","map":null,"metadata":{},"sourceType":"module"}